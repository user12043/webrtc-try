<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Webrtc Test</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
  </head>
  <body>
    <table border="2">
      <caption id="header" onload="window.header = this;"></caption>
      <tr>
        <td>
          <span>Signaling Server addres:</span>
          <input
            type="text"
            id="serverAddress"
            value=""
            onload="window.serverAddress = this;"
          />
        </td>
        <td>
          <span>Username:</span>
          <input
            type="text"
            id="username"
            value="user1"
            onload="window.username = this;"
          />
        </td>
        <td>
          <span>Target username:</span>
          <input
            type="text"
            id="remoteUsername"
            value="user2"
            onload="window.remoteUsername = this;"
          />
        </td>
        <td>Devices</td>
      </tr>
      <tr>
        <td>
          <textarea
            name="log"
            id="log"
            cols="50"
            rows="10"
            style="width: 100%; resize: vertical;"
          ></textarea>
        </td>
        <td>
          <video
            id="selfVideo"
            autoplay
            playsinline
            muted
            onload="window.selfVideo = this;"
          ></video>
        </td>
        <td>
          <video
            id="remoteVideo"
            autoplay
            playsinline
            onload="window.remoteVideo = this;"
          ></video>
        </td>
        <td rowspan="2">
          <div>
            <div>
              Video:<input
                id="videoCheck"
                type="checkbox"
                onload="window.videoCheck = this;"
                checked
              />
            </div>
            <select
              id="videoDevices"
              size="5"
              onload="window.videoDevices = this;"
              onchange="startSelf();"
            ></select>
          </div>
          <div>
            <div>
              Audio:<input
                id="audioCheck"
                type="checkbox"
                onload="window.audioCheck = this;"
              />
            </div>
            <select
              id="audioDevices"
              size="5"
              onload="window.audioDevices = this;"
              onchange="startSelf();"
            ></select>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="3">
          <div
            style="width: 100%; display: flex; justify-content: space-evenly;"
          >
            <button id="connect" onclick="connect();">Connect to server</button>
            <button id="call" onclick="call();">Call</button>
            <button id="hangup" onclick="hangup();">Hang up</button>
          </div>
        </td>
      </tr>
    </table>

    <!-- <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script> -->
    <script src="adapter.js"></script>
    <script src="setup.js"></script>
    <script src="socket.js"></script>
    <script src="rtc.js"></script>
  </body>
</html>
